# ダッシュボード実験再設計 - 最小単位実験方針に基づく

## 現状の問題点
現在のダッシュボードは「完成された結果」を表示しているが、実際の研究では最小単位での繰り返し実験が必要。

## 再設計方針

### 1. 実験1: 信頼度フィードバック機構 → 最小単位実験群

#### 現状
```
信頼度閾値0.75での6段階処理の結果表示
```

#### 再設計: 閾値パラメータスイープ実験
```
実験1-1: 閾値0.70での確信度測定
実験1-2: 閾値0.72での確信度測定
実験1-3: 閾値0.74での確信度測定
実験1-4: 閾値0.75での確信度測定
実験1-5: 閾値0.76での確信度測定
実験1-6: 閾値0.78での確信度測定
実験1-7: 閾値0.80での確信度測定
```

各実験:
- 実行時間: 5分
- 変更パラメータ: confidence_threshold のみ
- 測定項目: 確信度、再生成率、処理時間

### 2. 実験2: Cohen's Power Analysis → サンプル数段階実験

#### 現状
```
Phase1(30サンプル) vs Phase2(94サンプル)の比較
```

#### 再設計: サンプル数増加実験
```
実験2-1: 10サンプル/カテゴリでの確信度
実験2-2: 20サンプル/カテゴリでの確信度
実験2-3: 30サンプル/カテゴリでの確信度
実験2-4: 40サンプル/カテゴリでの確信度
実験2-5: 50サンプル/カテゴリでの確信度
実験2-6: 60サンプル/カテゴリでの確信度
実験2-7: 70サンプル/カテゴリでの確信度
実験2-8: 80サンプル/カテゴリでの確信度
実験2-9: 90サンプル/カテゴリでの確信度
実験2-10: 100サンプル/カテゴリでの確信度
```

### 3. 実験3: 確信度飽和現象 → カテゴリ数段階実験

#### 現状
```
カテゴリ数8→64での飽和現象表示
```

#### 再設計: カテゴリ数最小単位実験
```
実験3-1: 4カテゴリでの確信度向上率
実験3-2: 8カテゴリでの確信度向上率
実験3-3: 12カテゴリでの確信度向上率
実験3-4: 16カテゴリでの確信度向上率
実験3-5: 20カテゴリでの確信度向上率
実験3-6: 24カテゴリでの確信度向上率
実験3-7: 28カテゴリでの確信度向上率
実験3-8: 32カテゴリでの確信度向上率
実験3-9: 36カテゴリでの確信度向上率
実験3-10: 40カテゴリでの確信度向上率
```

### 4. 実験4: ベースライン比較 → カテゴリ別個別実験

#### 現状
```
8カテゴリ全体での比較結果
```

#### 再設計: カテゴリ別最小単位実験
```
実験4-1: personカテゴリのみでの比較
実験4-2: animalカテゴリのみでの比較
実験4-3: foodカテゴリのみでの比較
実験4-4: landscapeカテゴリのみでの比較
実験4-5: buildingカテゴリのみでの比較
実験4-6: furnitureカテゴリのみでの比較
実験4-7: vehicleカテゴリのみでの比較
実験4-8: plantカテゴリのみでの比較
```

### 5. 実験5: サンプル数最適化 → 細分化実験

#### 現状
```
16/30/94サンプルでの比較
```

#### 再設計: 5サンプル刻み実験
```
実験5-1: 5サンプルでの確信度・検出力
実験5-2: 10サンプルでの確信度・検出力
実験5-3: 15サンプルでの確信度・検出力
実験5-4: 20サンプルでの確信度・検出力
実験5-5: 25サンプルでの確信度・検出力
実験5-6: 30サンプルでの確信度・検出力
実験5-7: 35サンプルでの確信度・検出力
実験5-8: 40サンプルでの確信度・検出力
```

## 新しいダッシュボード構成

### A. リアルタイム実験ダッシュボード
```html
<!-- 実験進行状況 -->
<div class="experiment-progress">
    <h3>現在実行中の実験</h3>
    <div class="current-experiment">
        <p>実験ID: EXP_2025_07_03_001</p>
        <p>パラメータ: confidence_threshold = 0.72</p>
        <p>進行状況: 3/10 完了</p>
        <div class="progress-bar">
            <div class="progress" style="width: 30%"></div>
        </div>
    </div>
</div>

<!-- 最小単位実験結果 -->
<div class="minimal-results">
    <h3>直近の実験結果</h3>
    <table>
        <tr>
            <th>実験ID</th>
            <th>パラメータ</th>
            <th>確信度</th>
            <th>実行時間</th>
        </tr>
        <tr>
            <td>EXP_001</td>
            <td>threshold=0.70</td>
            <td>0.856</td>
            <td>4.2秒</td>
        </tr>
        <tr>
            <td>EXP_002</td>
            <td>threshold=0.72</td>
            <td>0.871</td>
            <td>4.5秒</td>
        </tr>
    </table>
</div>
```

### B. パラメータ探索グラフ
```javascript
// 動的更新グラフ
const parameterExploration = {
    type: 'scatter',
    data: {
        datasets: [{
            label: '確信度',
            data: [
                {x: 0.70, y: 0.856},
                {x: 0.72, y: 0.871},
                // 実験ごとに追加
            ]
        }]
    },
    options: {
        animation: {
            duration: 500
        },
        scales: {
            x: {
                title: {
                    text: 'パラメータ値'
                }
            },
            y: {
                title: {
                    text: '確信度'
                }
            }
        }
    }
};
```

### C. 実験キュー管理
```javascript
const experimentQueue = [
    {id: "EXP_003", param: "threshold", value: 0.74, status: "pending"},
    {id: "EXP_004", param: "threshold", value: 0.75, status: "pending"},
    {id: "EXP_005", param: "threshold", value: 0.76, status: "pending"},
];

// 5分ごとに次の実験を実行
setInterval(() => {
    const nextExp = experimentQueue.find(e => e.status === "pending");
    if (nextExp) {
        runMinimalExperiment(nextExp);
    }
}, 5 * 60 * 1000);
```

## 実装優先順位

1. **Phase 1**: 閾値パラメータスイープ（実験1）
   - 最も単純で効果が見えやすい
   - 5分×7実験 = 35分で完了

2. **Phase 2**: カテゴリ数実験（実験3）
   - 飽和現象の詳細検証
   - 理論モデルの検証

3. **Phase 3**: サンプル数実験（実験2,5）
   - Cohen's Power Analysisの実証
   - 統計的有意性の確保

4. **Phase 4**: カテゴリ別実験（実験4）
   - 各カテゴリの特性理解
   - 最適化の個別対応

## メリット

1. **即座のフィードバック**: 5分ごとに結果確認
2. **問題の早期発見**: 異常値を即座に検出
3. **最適値の精密探索**: 細かい刻みでの検証
4. **高い再現性**: 同一条件での繰り返し実験
5. **段階的な理解**: パラメータの影響を明確に把握

この方針により、研究の信頼性と効率性が大幅に向上する。